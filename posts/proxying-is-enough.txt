3:I[1699,[],""]
5:I[2579,[],""]
6:I[1425,["618","static/chunks/618-9024f0767c532a66.js","435","static/chunks/435-ef3d6ab01b87f570.js","969","static/chunks/969-aad582b925652555.js","808","static/chunks/808-a45f86db0de223fb.js","185","static/chunks/app/layout-c515227871e7c234.js"],"Providers"]
7:I[9618,["618","static/chunks/618-9024f0767c532a66.js","931","static/chunks/app/page-41b557df63454e1a.js"],""]
8:I[5969,["969","static/chunks/969-aad582b925652555.js","49","static/chunks/app/posts/%5B...slug%5D/page-73618210e21bb040.js"],"Image"]
9:I[845,["618","static/chunks/618-9024f0767c532a66.js","435","static/chunks/435-ef3d6ab01b87f570.js","969","static/chunks/969-aad582b925652555.js","808","static/chunks/808-a45f86db0de223fb.js","185","static/chunks/app/layout-c515227871e7c234.js"],"MobileNav"]
a:I[3378,["618","static/chunks/618-9024f0767c532a66.js","435","static/chunks/435-ef3d6ab01b87f570.js","969","static/chunks/969-aad582b925652555.js","808","static/chunks/808-a45f86db0de223fb.js","185","static/chunks/app/layout-c515227871e7c234.js"],"ModeToggle"]
4:["slug","proxying-is-enough","c"]
0:["KOC9BHodku9XeBBLWMxsr",[[["",{"children":["posts",{"children":[["slug","proxying-is-enough","c"],{"children":["__PAGE__?{\"slug\":[\"proxying-is-enough\"]}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["posts",{"children":[["slug","proxying-is-enough","c"],{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/5a2bc2e18c439204.css","precedence":"next","crossOrigin":"$undefined"}]]}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","html",null,{"lang":"en","className":"__variable_aaf875 __variable_11742b","suppressHydrationWarning":true,"children":["$","body",null,{"className":"antialiased text-gray-800 dark:bg-black dark:text-gray-400","children":["$","$L6",null,{"children":[["$","nav",null,{"className":"container px-8 mx-auto max-w-screen-lg xl:px-5 py-6 lg:py-8","children":["$","div",null,{"className":"flex flex-wrap justify-between md:flex-nowrap md:gap-14","children":[["$","div",null,{"className":"order-1 hidden w-full flex-col items-center justify-start md:order-none md:flex md:w-auto md:flex-1 md:flex-row md:justify-end","children":[["$","$L7",null,{"href":"/","className":"px-5 py-2 text-base font-medium text-gray-600 hover:text-blue-500 dark:text-gray-400","children":"Home"}],["$","a",null,{"href":"https://dev.reclaimprotocol.org/dashboard","target":"_blank","rel":"noopener noreferrer","className":"px-5 py-2 text-base font-medium text-gray-600 hover:text-blue-500 dark:text-gray-400","children":"Dashboard"}],["$","a",null,{"href":"https://t.me/protocolreclaim","target":"_blank","rel":"noopener noreferrer","className":"px-5 py-2 text-base font-medium text-gray-600 hover:text-blue-500 dark:text-gray-400","children":"Community"}]]}],["$","div",null,{"className":"flex w-full items-center justify-between md:w-auto","children":[["$","$L7",null,{"href":"/","children":["$","$L8",null,{"src":{"src":"/_next/static/media/main.83eeff90.svg","height":41,"width":36,"blurWidth":0,"blurHeight":0},"alt":"logo","className":"w-8 md:w-10"}]}],["$","$L9",null,{}]]}],["$","div",null,{"className":"order-2 hidden w-full flex-col items-center justify-start md:order-none md:flex md:w-auto md:flex-1 md:flex-row","children":[["$","$L7",null,{"href":"/page/1","className":"px-5 py-2 text-base font-medium text-gray-600 hover:text-blue-500 dark:text-gray-400","children":"Blogs"}],["$","a",null,{"href":"https://www.reclaimprotocol.org/whitepaper","target":"_blank","rel":"noopener noreferrer","className":"px-5 py-2 text-base font-medium text-gray-600 hover:text-blue-500 dark:text-gray-400","children":"Whitepaper"}],["$","a",null,{"href":"https://docs.reclaimprotocol.org/","target":"_blank","rel":"noopener noreferrer","className":"px-5 py-2 text-base font-medium text-gray-600 hover:text-blue-500 dark:text-gray-400","children":"Docs"}]]}]]}]}],["$","main",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":null}]}],["$","div",null,{"className":"container px-8 mx-auto xl:px-5  max-w-screen-lg py-5 lg:py-8 mt-10 border-t border-gray-100 dark:border-gray-800","children":[["$","div",null,{"className":"text-center text-sm","children":["Copyright © ",2024," Reclaim Protocol. All rights reserved."]}],["$","div",null,{"className":"mt-2 flex items-center justify-center","children":["$","div",null,{"className":"inline-flex items-center","children":["$","$La",null,{}]}]}]]}]]}]}]}],null],null],[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/af243d7f3466ae7c.css","precedence":"next","crossOrigin":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/c3620e9ca5613d68.css","precedence":"next","crossOrigin":"$undefined"}]],[null,"$Lb"]]]]]
2:["$","article",null,{"className":"container py-6 prose dark:prose-invert max-w-3xl mx-auto","children":[["$","h1",null,{"className":"mb-2 text-center","children":"Proxying Is Enough"}],["$","div",null,{"className":"text-center","children":[["$","div",null,{"children":"Madhavan Malolan"}],["$","div",null,{"children":"May 29, 2024"}]]}],["$","img",null,{"src":"/images/two.png","alt":"Proxying Is Enough","className":"rounded","width":1920,"height":1080}],["$","div",null,{"className":"flex gap-2 mb-2","children":[["$","span",null,{"className":"inline-block text-xs font-medium tracking-wider uppercase mt-5 text-blue-600","suppressHydrationWarning":true,"children":"Code"}],["$","span",null,{"className":"inline-block text-xs font-medium tracking-wider uppercase mt-5 text-blue-600","suppressHydrationWarning":true,"children":"Not Code"}]]}],[["$","p",null,{"children":"Special thanks to Kirill Kustenok and Zhongtang Luo for proof reading multiple versions of this draft."}],"\n",["$","p",null,{"children":["Recently Z. Luo et al released a paper titled ",["$","a",null,{"href":"https://eprint.iacr.org/2024/733.pdf","children":"“Proxying is Enough: Security of Proxying in TLS Oracles and AEAD Context Unforgeability”"}]," ",["$","a",null,{"href":"https://etherscan.io/tx/0xa0c1f3d7a641a065688e148890a77f360b198e01e49aa28352e856682c4c12c9","children":"(Hash)"}],", where they discuss security of TLS Oracles."]}],"\n",["$","p",null,{"children":["From the paper,\"",["$","em",null,{"children":"TLS oracles allow a TLS client to offer selective data provenance to an external (oracle) node such that the oracle node is ensured that the data is indeed coming from a pre-defined TLS server."}],"\""]}],"\n",["$","p",null,{"children":"In other words, A TLS Oracle proves what data the user saw when they opened a website on their browser. Browsers use HTTPS to transfer data between your device and the webserver. TLS is the security protocol used by HTTPS."}],"\n",["$","h1",null,{"id":"deco-formalized-security-of-mpc-based-tls-oracles","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#deco-formalized-security-of-mpc-based-tls-oracles","children":"Deco formalized security of MPC based TLS Oracles"}]}],"\n",["$","p",null,{"children":["The first construction for using https to generate zk proofs of what data was transferred between a user and a website was proposed by F. Zhang et al in their paper ",["$","a",null,{"href":"https://arxiv.org/pdf/1909.00938","children":"“DECO: Liberating Web Data Using Decentralized Oracles for TLS”"}],"."]}],"\n",["$","p",null,{"children":["The key contribution was that they showed how they could use ",["$","a",null,{"href":"https://en.wikipedia.org/wiki/Secure_multi-party_computation","children":"MPC"}]," to introduce an additional stakeholder in the ",["$","a",null,{"href":"https://www.cloudflare.com/learning/ssl/what-happens-in-a-tls-handshake/","children":"TLS handshake"}],", which can then be used to zk-proofs of data that was sent by the website. Details of this are irrelevant for this post. All you need to know is Deco introduced an MPC based solution."]}],"\n",["$","p",null,{"children":"Along with this result, they also showed formally that this approach is secure."}],"\n",["$","h1",null,{"id":"tls-notary-made-practicality-inroads","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#tls-notary-made-practicality-inroads","children":"TLS Notary made practicality inroads"}]}],"\n",["$","p",null,{"children":["Deco, the paper, was released in 2019. As of 2024, there isn’t an efficient implementation of the described protocol as is. However, ",["$","a",null,{"href":"https://tlsnotary.org/","children":"TLS Notary"}],", an open sourced project implemented a similar construct using ",["$","a",null,{"href":"https://en.wikipedia.org/wiki/Garbled_circuit","children":"Garbled Circuits"}],"."]}],"\n",["$","p",null,{"children":"TLS Notary is a project that one can clone and run on a consumer laptop. However, as of this writing, the data that had to be sent to-and-fro to establish an MPC using Garbled circuit ran into hundreds of MBs – making it infeasible for mass adoption."}],"\n",["$","p",null,{"children":"But TLS Notary showed that it is possible to implement a garbled circuit based mpc three party tls handshake."}],"\n",["$","h1",null,{"id":"optimizing-tls-notary","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#optimizing-tls-notary","children":"Optimizing TLS Notary"}]}],"\n",["$","p",null,{"children":"There have been several attempts to optimize the TLS Notary approach to make it viable in the wild. Particularly on mobile devices with low compute, memory and network bandwidth. Opacity, ZKPass, Pado Labs are notable projects exploring this option."}],"\n",["$","h1",null,{"id":"an-alternate-model---proxying","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#an-alternate-model---proxying","children":"An alternate model - Proxying"}]}],"\n",["$","p",null,{"children":"TLS and thereby HTTPS are secured using symmetric keys. These keys don’t help us know who encrypted the data – the website or the user? Did the user send some data to themselves and are now claiming that this data came from the server? It’s impossible to verify. To make HTTPS data verifiable, one must introduce a third party at certain points in the HTTPS session lifecycle."}],"\n",["$","p",null,{"children":["MPC based approaches introduce a notary at the tls handshake stage of the lifecycle. An alternate model is a Proxying model where you introduce the witness at the data transfer stage. All that the proxy does is, it witnesses the encrypted data that was tranferred from the user to the website and back. Basically, the request and the response in encrypted form, and provides an attestation to the ",["$","code",null,{"children":"(encrypted-request, encrypted-response)"}]," tuple."]}],"\n",["$","p",null,{"children":["This attested tuple can be fed to a zk circuit to selectively reveal some data from the response. Thereby producing the same output as what a TLS Notary would. ",["$","em",null,{"children":"“The response R contains string S, and R was indeed received from website W in response to a user request Q”"}],"."]}],"\n",["$","p",null,{"children":"This proxy based approach is much more efficient because it needs no change on the client browser because, browsers are already capable of using proxies. Additionally, doesn’t need any heavy computation for establishing an MPC based TLS handshake."}],"\n",["$","p",null,{"children":"Reclaim has been using the Proxy based approach, primarily because of feasibility of productizing."}],"\n",["$","h1",null,{"id":"is-it-secure","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#is-it-secure","children":"Is it secure?"}]}],"\n",["$","p",null,{"children":"Deco provided a formal security analyisis of the MPC approach. Whereas, there weren’t any formal proofs for the security of the Proxy based model."}],"\n",["$","p",null,{"children":"This led to a wide spread understanding that the MPC approach is more secure than the Proxy model."}],"\n",["$","p",null,{"children":["At Reclaim, we knew that the Proxy model is secure – not using formal proofs, but through engineering observations. We also had internal and ",["$","a",null,{"href":"https://blog.reclaimprotocol.org/posts/audits/","children":"external security audits in place"}],". But again, these are analysis from an engineering standpoint."]}],"\n",["$","p",null,{"children":["Z Luo et al, for the first time presented a formal analysis of the security of the Proxy based approach and concluded that ",["$","em",null,{"children":"Proxying is secure enough"}],"."]}],"\n",["$","h1",null,{"id":"what-does-it-mean-to-be-secure","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#what-does-it-mean-to-be-secure","children":"What does it mean to be secure?"}]}],"\n",["$","p",null,{"children":"From Z Luo et al, theorem 6.1 the security is defined as the probability that someone tricked the protocol in generating a valid proof when it should have actually failed."}],"\n",["$","p",null,{"children":"That is, if someone gives you a proof generated using Reclaim Protocol or any other proxying based TLS Oracle where the proxy is an honest operator - what is the probablity that the proof is a fraud?"}],"\n",["$","p",null,{"children":["From the paper for ChaCha20 : ",["$","img",null,{"src":"https://blog.reclaimprotocol.org/images/zluo-6.1_corrected.png","alt":"ChaCha Formula"}]]}],"\n",["$","h1",null,{"id":"analysing-the-numbers-on-the-paper","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#analysing-the-numbers-on-the-paper","children":"Analysing the numbers on the paper"}]}],"\n",["$","p",null,{"children":"The above formula is what is used to detemine what is the probability of being able to convince a person that certain data showed up on their browser, when it actually didn’t."}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"mathvariant":"normal","children":"∣"}],["$","mi",null,{"children":"S"}],["$","mi",null,{"mathvariant":"normal","children":"∣"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"|S|"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"1em","verticalAlign":"-0.25em"}}],["$","span",null,{"className":"mord","children":"∣"}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.05764em"},"children":"S"}],["$","span",null,{"className":"mord","children":"∣"}]]}]}]]}]," is the number of allowed openings. In other words, the request and response contain some parts that can be revealed publicly. If all you make a set ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":["$","mi",null,{"children":"S"}]}],["$","annotation",null,{"encoding":"application/x-tex","children":"S"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6833em"}}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.05764em"},"children":"S"}]]}]}]]}]," of all the possible values in the data that is revealed, gives you ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"mathvariant":"normal","children":"∣"}],["$","mi",null,{"children":"S"}],["$","mi",null,{"mathvariant":"normal","children":"∣"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"|S|"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"1em","verticalAlign":"-0.25em"}}],["$","span",null,{"className":"mord","children":"∣"}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.05764em"},"children":"S"}],["$","span",null,{"className":"mord","children":"∣"}]]}]}]]}]]}],"\n",["$","li",null,{"children":[["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":["$","mi",null,{"children":"λ"}]}],["$","annotation",null,{"encoding":"application/x-tex","children":"λ"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6944em"}}],["$","span",null,{"className":"mord mathnormal","children":"λ"}]]}]}]]}]," is the length of the string that can be revealed publicly without compromising privacy. Particularly, the set S of all possible values this string takes should be a finite set."]}],"\n",["$","li",null,{"children":[["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":["$","mi",null,{"children":"v"}]}],["$","annotation",null,{"encoding":"application/x-tex","children":"v"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.4306em"}}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.03588em"},"children":"v"}]]}]}]]}]," is the IV size, which is a fixed constant for an encryption scheme"]}],"\n"]}],"\n",["$","p",null,{"children":"Plugging in the values for AES,"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"mathvariant":"normal","children":"∣"}],["$","mi",null,{"children":"S"}],["$","mi",null,{"mathvariant":"normal","children":"∣"}],["$","mo",null,{"children":"="}],["$","mn",null,{"children":"1"}],["$","mo",null,{"children":"∗"}],["$","mn",null,{"children":"3600"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"|S| = 1*3600"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":[["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"1em","verticalAlign":"-0.25em"}}],["$","span",null,{"className":"mord","children":"∣"}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.05764em"},"children":"S"}],["$","span",null,{"className":"mord","children":"∣"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"="}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6444em"}}],["$","span",null,{"className":"mord","children":"1"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}],["$","span",null,{"className":"mbin","children":"∗"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6444em"}}],["$","span",null,{"className":"mord","children":"3600"}]]}]]}]]}],"; Reclaim Protocol accepts only 1 status code - 200 as a valid http status code, corresponding to “OK”. We reject all other response codes. E.g. if there’s a 404 status code, meaning the webpage doesn’t exist - there is no point creating a proof of data that exists on the error page. And we accept the response with a timestamp within the last 10 min, as suggested by the paper, as valid responses."]}],"\n",["$","li",null,{"children":[["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"children":"λ"}],["$","mo",null,{"children":"="}],["$","mn",null,{"children":"56"}],["$","mo",null,{"children":"∗"}],["$","mn",null,{"children":"8"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"λ = 56*8"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":[["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6944em"}}],["$","span",null,{"className":"mord mathnormal","children":"λ"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"="}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6444em"}}],["$","span",null,{"className":"mord","children":"56"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}],["$","span",null,{"className":"mbin","children":"∗"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6444em"}}],["$","span",null,{"className":"mord","children":"8"}]]}]]}]]}],"; for 56 bytes of padding, 8bits each; the paper uses the first two lines of the https response which contains the http status code and timestamp."]}],"\n",["$","li",null,{"children":[["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":["$","mi",null,{"children":"v"}]}],["$","annotation",null,{"encoding":"application/x-tex","children":"v"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.4306em"}}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.03588em"},"children":"v"}]]}]}]]}],"; IV for ChaCha20 is 12 bytes (96 bits)"]}],"\n"]}],"\n",["$","p",null,{"children":[["$","a",null,{"href":"https://www.wolframalpha.com/input?i=log_10%28%28%281*3600%29%5E2%29%2F%282%5E%288*56+-+2*96+%2B2%29%29%29","children":"That gives us"}]," the probaility of the proof having been fradulently created to be"]}],"\n",["$","p",null,{"children":["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mn",null,{"children":"1"}],["$","msup",null,{"children":[["$","mn",null,{"children":"0"}],["$","mrow",null,{"children":[["$","mo",null,{"children":"−"}],["$","mn",null,{"children":"70"}]]}]]}],["$","mo",null,{"children":"="}],["$","mn",null,{"children":"0.0000000000000000000000000000000000000000000000000000000000000000000001"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"10^{-70} = 0.0000000000000000000000000000000000000000000000000000000000000000000001%"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":[["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.8141em"}}],["$","span",null,{"className":"mord","children":"1"}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord","children":"0"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t","children":["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.8141em"},"children":["$","span",null,{"style":{"top":"-3.063em","marginRight":"0.05em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.7em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":[["$","span",null,{"className":"mord mtight","children":"−"}],["$","span",null,{"className":"mord mtight","children":"70"}]]}]}]]}]}]}]}]}]]}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"="}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6444em"}}],["$","span",null,{"className":"mord","children":"0.0000000000000000000000000000000000000000000000000000000000000000000001"}]]}]]}]]}]}],"\n",["$","p",null,{"children":["That is an extremely small probability, and secure enough to practically say that we can be certain that the proof generated is fully secure. To put it in perspective, this probability is so low that, if all the computers, including your mobile phone, were dedicated breaking the security of this protocol - it would take ",["$","em",null,{"children":"1,000,000,000,000,000,000,000,000,000,000 (one million trillion trillion) times the age of the universe"}]," to actually break it!"]}],"\n",["$","h1",null,{"id":"the-real-numbers-in-production","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#the-real-numbers-in-production","children":"The Real Numbers, in production"}]}],"\n",["$","p",null,{"children":"Reclaim Protocol needs provenance of both the request and the response. The response calculation is pretty much the same as what is mentioned in the paper."}],"\n",["$","h2",null,{"id":"padding-λλλ","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#padding-λλλ","children":["Padding, ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":["$","mi",null,{"children":"λ"}]}],["$","annotation",null,{"encoding":"application/x-tex","children":"λ"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6944em"}}],["$","span",null,{"className":"mord mathnormal","children":"λ"}]]}]}]]}]]}]}],"\n",["$","p",null,{"children":"In our implementation, we reveal the following in the request"}],"\n",["$","ol",null,{"children":["\n",["$","li",null,{"children":"HTTP version"}],"\n",["$","li",null,{"children":"Connection header"}],"\n",["$","li",null,{"children":"URL (host + path)"}],"\n"]}],"\n",["$","p",null,{"children":["This is very specific to our implementation. On Reclaim Protocol, we have the users commit to the “provider” they are generating a proof for. So, they commit to the URL before executing the HTTPS Handshake. The protocol described in the paper is more generic. That is the user can prove something about any arbitrary HTTPS request they make from their browser, making the URL an unknown. If we get rid of that generalization, the known URL header can be used as ",["$","em",null,{"children":"padding"}],"."]}],"\n",["$","p",null,{"children":"Another small modification from the paper is that instead of revealing the first few characters as padding, we mix and match various parts of the headers to form a long enough invariant. We identify various parts of the headers that we know the values of before hand. This is possible because of the product/protocol specific assumptions made, which constrains the things a malicious user can modify in the headers."}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Shortest method and version code : ",["$","code",null,{"children":"GET [...] http/1.1"}]," ; 13 characters (we support only http/1.1)"]}],"\n",["$","li",null,{"children":["Connection header : ",["$","code",null,{"children":"connection: close"}]," ; 17 characters"]}],"\n",["$","li",null,{"children":["Shortest possible URL : ",["$","code",null,{"children":"Host: a.co"}]," and path ",["$","code",null,{"children":"/"}]," ; 11 characters"]}],"\n"]}],"\n",["$","p",null,{"children":["For ChaCha20, ",["$","img",null,{"src":"https://blog.reclaimprotocol.org/images/zluo-6.1_corrected.png","alt":"ChaCha Formula"}]]}],"\n",["$","p",null,{"children":["So, we’re looking at a minimum of 41 characters being used as padding. ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"children":"λ"}],["$","mo",null,{"children":"="}],["$","mn",null,{"children":"41"}],["$","mrow",null,{"children":[["$","mi",null,{"children":"b"}],["$","mi",null,{"children":"y"}],["$","mi",null,{"children":"t"}],["$","mi",null,{"children":"e"}],["$","mi",null,{"children":"s"}]]}],["$","mo",null,{"children":"="}],["$","mn",null,{"children":"328"}],["$","mrow",null,{"children":[["$","mi",null,{"children":"b"}],["$","mi",null,{"children":"i"}],["$","mi",null,{"children":"t"}],["$","mi",null,{"children":"s"}]]}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"λ = 41{bytes} = 328{bits}"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":[["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6944em"}}],["$","span",null,{"className":"mord mathnormal","children":"λ"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"="}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.8889em","verticalAlign":"-0.1944em"}}],["$","span",null,{"className":"mord","children":"41"}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord mathnormal","children":"b"}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.03588em"},"children":"y"}],["$","span",null,{"className":"mord mathnormal","children":"t"}],["$","span",null,{"className":"mord mathnormal","children":"es"}]]}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"="}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6944em"}}],["$","span",null,{"className":"mord","children":"328"}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord mathnormal","children":"bi"}],["$","span",null,{"className":"mord mathnormal","children":"t"}],["$","span",null,{"className":"mord mathnormal","children":"s"}]]}]]}]]}]]}]]}],"\n",["$","h2",null,{"id":"number-of-valid-openings-sss","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#number-of-valid-openings-sss","children":["Number of valid openings, ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"mathvariant":"normal","children":"∣"}],["$","mi",null,{"children":"S"}],["$","mi",null,{"mathvariant":"normal","children":"∣"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"|S|"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"1em","verticalAlign":"-0.25em"}}],["$","span",null,{"className":"mord","children":"∣"}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.05764em"},"children":"S"}],["$","span",null,{"className":"mord","children":"∣"}]]}]}]]}]]}]}],"\n",["$","p",null,{"children":[["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"mathvariant":"normal","children":"∣"}],["$","mi",null,{"children":"S"}],["$","mi",null,{"mathvariant":"normal","children":"∣"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"|S|"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"1em","verticalAlign":"-0.25em"}}],["$","span",null,{"className":"mord","children":"∣"}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.05764em"},"children":"S"}],["$","span",null,{"className":"mord","children":"∣"}]]}]}]]}]," represents size of the set of all the values that the padding can map to."]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Http Status Code"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["HTTP version : only accepted value is ",["$","code",null,{"children":"1.1"}],", which is the most supported version. Versions ",["$","code",null,{"children":"2"}]," and ",["$","code",null,{"children":"3"}]," are backward compatible with ",["$","code",null,{"children":"1.1"}]]}],"\n"]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"Connection header"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Every https connection is expected to have a ",["$","code",null,{"children":"connection close"}]," header. there are no variations for this header. So, there is exactly one valid opening for this header."]}],"\n"]}],"\n",["$","p",null,{"children":["$","strong",null,{"children":"URL"}]}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":"The url is known before hand, so there is exactly one valid opening for the URL"}],"\n"]}],"\n",["$","p",null,{"children":["So, total valid openings is exactly ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":["$","mn",null,{"children":"1"}]}],["$","annotation",null,{"encoding":"application/x-tex","children":"1"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6444em"}}],["$","span",null,{"className":"mord","children":"1"}]]}]}]]}],". ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"mathvariant":"normal","children":"∣"}],["$","mi",null,{"children":"S"}],["$","mi",null,{"mathvariant":"normal","children":"∣"}],["$","mo",null,{"children":"="}],["$","mn",null,{"children":"1"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"|S| = 1"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":[["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"1em","verticalAlign":"-0.25em"}}],["$","span",null,{"className":"mord","children":"∣"}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.05764em"},"children":"S"}],["$","span",null,{"className":"mord","children":"∣"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"="}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6444em"}}],["$","span",null,{"className":"mord","children":"1"}]]}]]}]]}]]}],"\n",["$","h2",null,{"id":"key-size","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#key-size","children":"Key size"}]}],"\n",["$","p",null,{"children":["Since we use chacha20, the IV is 12 bytes or 96 bits ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"children":"v"}],["$","mo",null,{"children":"="}],["$","mn",null,{"children":"96"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"v = 96 "}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":[["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.4306em"}}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.03588em"},"children":"v"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"="}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6444em"}}],["$","span",null,{"className":"mord","children":"96"}]]}]]}]]}]]}],"\n",["$","h2",null,{"id":"putting-everything-together","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#putting-everything-together","children":"Putting everything together"}]}],"\n",["$","p",null,{"children":["Feeding the above values in the formula, ",["$","a",null,{"href":"https://www.wolframalpha.com/input?i=log_10%282%2F2%5E%28%2814%2B17%2B5%29*8+-+2*96+%2B1%29%29","children":"we get probability"}]," of breaking the security of Reclaim Protocol as ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mn",null,{"children":"1"}],["$","msup",null,{"children":[["$","mn",null,{"children":"0"}],["$","mrow",null,{"children":[["$","mo",null,{"children":"−"}],["$","mn",null,{"children":"40"}]]}]]}],["$","mo",null,{"children":"="}],["$","mn",null,{"children":"0.00000000000000000000000000000000000000001"}],["$","mi",null,{"mathvariant":"normal","children":"%"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"10^{-40} = 0.00000000000000000000000000000000000000001{\\%}"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":[["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.8141em"}}],["$","span",null,{"className":"mord","children":"1"}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord","children":"0"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t","children":["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.8141em"},"children":["$","span",null,{"style":{"top":"-3.063em","marginRight":"0.05em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.7em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":[["$","span",null,{"className":"mord mtight","children":"−"}],["$","span",null,{"className":"mord mtight","children":"40"}]]}]}]]}]}]}]}]}]]}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"="}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.8056em","verticalAlign":"-0.0556em"}}],["$","span",null,{"className":"mord","children":"0.00000000000000000000000000000000000000001"}],["$","span",null,{"className":"mord","children":["$","span",null,{"className":"mord","children":"%"}]}]]}]]}]]}]]}],"\n",["$","p",null,{"children":"Again, that means if all the computers on the planet including everything from your mobile phone to all the A100 gpus used for LLM training, you would need the age of the universe to break the security. A little less security than the response, but still very secure."}],"\n",["$","p",null,{"children":"Not bad. At all."}],"\n",["$","h1",null,{"id":"conclusion","children":["$","a",null,{"className":"subheading-anchor","aria-label":"Link to section","href":"#conclusion","children":"Conclusion"}]}],"\n",["$","p",null,{"children":"The Proxying method used by Reclaim Protocol is secure for practical use, beyond any doubt – putting an end to the debate whether or not proxying is secure enough when compared to the MPC based approaches for zk-tls."}],"\n",["$","p",null,{"children":"This is not to shit on the work being done by the teams on the MPC approach. That is valuable, and Reclaim Protocol continues to explore the frontiers of what is possible and what is more efficient - in close collaboration with teams working on alternate approaches. ZK is fast evolving. Staying on the bleeding edge is extremely critical."}],"\n",["$","p",null,{"children":["That said, it turns out ",["$","strong",null,{"children":["$","em",null,{"children":"Proxying is enough"}]}]," to take the solution to market."]}]]]}]
b:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"white"}],["$","meta","2",{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"black"}],["$","meta","3",{"charSet":"utf-8"}],["$","title","4",{"children":"Proxying Is Enough | Reclaim Protocol"}],["$","meta","5",{"name":"description","content":"Recently Z. Luo et al released a paper titled “Proxying is Enough: Security of Proxying in TLS Oracles and AEAD Context Unforgeability” (Hash), where they discuss security of TLS Oracles."}],["$","meta","6",{"name":"author","content":"hexclanlabs"}],["$","meta","7",{"property":"og:title","content":"Proxying Is Enough"}],["$","meta","8",{"property":"og:description","content":"Recently Z. Luo et al released a paper titled “Proxying is Enough: Security of Proxying in TLS Oracles and AEAD Context Unforgeability” (Hash), where they discuss security of TLS Oracles."}],["$","meta","9",{"property":"og:url","content":"https://example.com/posts/proxying-is-enough"}],["$","meta","10",{"property":"og:image","content":"https://example.com/api/og?title=Proxying+Is+Enough"}],["$","meta","11",{"property":"og:image:width","content":"1200"}],["$","meta","12",{"property":"og:image:height","content":"630"}],["$","meta","13",{"property":"og:image:alt","content":"Proxying Is Enough"}],["$","meta","14",{"property":"og:type","content":"article"}],["$","meta","15",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","16",{"name":"twitter:title","content":"Proxying Is Enough"}],["$","meta","17",{"name":"twitter:description","content":"Recently Z. Luo et al released a paper titled “Proxying is Enough: Security of Proxying in TLS Oracles and AEAD Context Unforgeability” (Hash), where they discuss security of TLS Oracles."}],["$","meta","18",{"name":"twitter:image","content":"https://example.com/api/og?title=Proxying+Is+Enough"}],["$","link","19",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}],["$","meta","20",{"name":"next-size-adjust"}]]
1:null
